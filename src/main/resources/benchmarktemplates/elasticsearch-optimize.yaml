# disable all Camunda Platform components and install only Elasticsearch
global:
  elasticsearch:
    enabled: ${elasticSearch.enabled}
  identity:
    auth:
      enabled: false
zeebe:
  enabled: false
zeebeGateway:
  enabled: false
operate:
  enabled: false
tasklist:
  enabled: false
optimize:
  enabled: false
connectors:
  enabled: false
identity:
  enabled: false
identityKeycloak:
  enabled: false

elasticsearch:
  enabled: ${elasticSearch.enabled}
  image:
    tag: ${elasticSearch.version}
  master:
    masterOnly: ${elasticSearch.masterOnly}
    replicaCount: ${elasticSearch.clusterSizeMaster}
    nodeSelector:
      cloud.google.com/gke-nodepool: pool-${engine.machineType}
    resources:
      requests:
        cpu: ${elasticSearch.vcpusMasterRequests}
        memory: ${elasticSearch.ramMaster}Gi
      limits:
        cpu: ${elasticSearch.vcpusMaster}
        memory: ${elasticSearch.ramMaster}Gi
    heapSize: ${elasticSearch.heapSizeMaster}m
    persistence:
      size: ${elasticSearch.storageCapacity}Gi
      storageClass: ${elasticSearch.fileSystem}
  data:
    replicaCount: ${elasticSearch.clusterSizeData}
    nodeSelector:
      cloud.google.com/gke-nodepool: pool-${engine.machineType}
    resources:
      requests:
        cpu: ${elasticSearch.vcpusDataRequests}
        memory: ${elasticSearch.ramData}Gi
      limits:
        cpu: ${elasticSearch.vcpusData}
        memory: ${elasticSearch.ramData}Gi
    heapSize: ${elasticSearch.heapSizeData}m
    persistence:
      size: ${elasticSearch.storageCapacity}Gi
      storageClass: ${elasticSearch.fileSystem}
  metrics:
    enabled: true
    serviceMonitor:
      enabled: true
      honorLabels: true
      namespace: default
      labels:
        release: metrics
    resourcesPreset: small
